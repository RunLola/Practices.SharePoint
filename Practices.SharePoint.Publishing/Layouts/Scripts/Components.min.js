"use strict";var SuiteLink=React.createClass({displayName:"SuiteLink",getInitialState:function(){return{badge:"加载中..."}},componentDidMount:function(){this.loadBadge;setInterval(this.loadBadge,this.props.pollInterval)},render:function(){return React.createElement("li",{className:"ms-core-suiteLink"},React.createElement("a",{className:"ms-core-suiteLink-a",href:"#",onClick:this.handleShowDialog},React.createElement("i",{className:this.props.icon}),React.createElement("span",null,this.props.title),React.createElement("span",{className:"badge"},this.state.badge)))},loadBadge:function(){var n=this.props.serviceUrl+this.props.loginName+"&callback=?";$.getJSON(n,function(n){this.setState({badge:n.count})})},handleShowDialog:function(){$("#suiteDialog").modal({show:!0});$("#suiteDialog").on("show.bs.modal",function(){$("iframe",this).attr("src",this.props.pageUrl)})}});ExecuteOrDelayUntilScriptLoaded(function(){var n=_.last(_spPageContextInfo.systemUserKey.split("|")),t;n.length==8&&n.indexOf("T")==0&&(n=n.toUpperCase());t=[];t.push(React.createElement(SuiteLink,{title:"待办",icon:"fa fa-tasks btn-warning",loginName:n,serviceUrl:"",pollInterval:"13",pageUrl:""}));t.push(React.createElement(SuiteLink,{title:"待办",icon:"fa fa-tasks btn-warning",loginName:n,serviceUrl:"",pollInterval:"13",pageUrl:""}));React.render(t,$(".ms-core-suiteLinkList").get(0))},"core.js");