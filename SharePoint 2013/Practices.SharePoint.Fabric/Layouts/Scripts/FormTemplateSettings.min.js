"use strict";function CollectData(){var n={ControlMode:0,Rows:[]},t=$(".form-horizontal").find(".row");t.each(function(){var t=[],i=$(this).find(".form-group");i.each(function(){var n={Title:$(this).find("h3").text(),InternalName:$(this).attr("id"),ClassName:$(this).parent().attr("class")};t.push(n)});n.Rows.push(t)});$("input[id*='json'").val(JSON.stringify(n))}LoadSodByKey("jquery.ui.js",function(){LoadSodByKey("react-dom.js",function(){var n=React.createClass({displayName:"Grid",getInitialState:function(){return{data:[]}},componentDidMount:function(){$(ReactDOM.findDOMNode(this)).droppable({accept:".gridRow",classes:{"ui-droppable-active":"ui-state-highlight"},drop:function(n,t){var i=$(t.draggable);this.state.data.push({});this.setState({data:this.state.data})}.bind(this)});$(ReactDOM.findDOMNode(this)).sortable({revert:!0,placeholder:"ui-state-highlight"})},render:function(){var n=this.state.data.map(function(){return React.createElement(t,null)});return React.createElement("div",{className:"form-horizontal"},n)}}),t=React.createClass({displayName:"GridRow",getInitialState:function(){return{data:[]}},componentDidMount:function(){$(ReactDOM.findDOMNode(this)).droppable({accept:".gridCol, .col-sm-12",classes:{"ui-droppable-active":"ui-state-highlight"},drop:function(n,t){var i=$(t.draggable);this.state.data.push({Title:i.hasClass("gridCol")?i.text():i.find("h3").text(),InternalName:i.hasClass("gridCol")?i.attr("id"):i.find(".form-group").attr("id")});i.remove();this.setState({data:this.state.data})}.bind(this)});$(ReactDOM.findDOMNode(this)).sortable({handle:".col-sm-12",revert:!0,placeholder:"ui-state-highlight"})},render:function(){var n=this.state.data.map(function(n){return React.createElement(i,{Title:n.Title,InternalName:n.InternalName})});return React.createElement("div",{className:"row"},n)}}),i=React.createClass({displayName:"GridCol",componentDidMount:function(){$(ReactDOM.findDOMNode(this)).draggable({revert:"invalid",containment:"document",helper:function(){return $("<div class='form-group'><\/div>")},drag:function(n,t){t.helper.width(350).css("z-index",1)},cursor:"move"})},render:function(){return React.createElement("div",{className:"col-sm-12 col-md-6"},React.createElement("div",{id:this.props.InternalName,className:"form-group"},React.createElement("label",{className:"ms-formlabel control-label col-sm-2"},React.createElement("h3",{className:"ms-standardheader"},this.props.Title)),React.createElement("div",{className:"ms-formbody col-sm-10"},React.createElement("input",{type:"text",className:"form-control",disabled:"disabled"}))))}});$(".gridRow").draggable({revert:"invalid",containment:"document",helper:function(){return $("<div class='row'><\/div>")},drag:function(n,t){t.helper.width(350).css("z-index",1)},cursor:"move"});$(".gridCol").draggable({revert:"invalid",containment:"document",helper:function(){return $("<div class='form-group'><\/div>")},drag:function(n,t){t.helper.width(350).css("z-index",1)},cursor:"move"});ReactDOM.render(React.createElement(n,null),$(".container-fluid").get(0))})});